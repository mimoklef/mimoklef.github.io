<!DOCTYPE html>
<html>
<body>

  <button id="getcookie">Get cookie</button>
  <button id="suppcookie">Remove cookie</button>

<div id="dialog">

</div>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>

<script>
  $(function() {
    //Get des cookies
    var name = Cookies.get("nameCookie");


  
    if(name!=undefined&&name!=null&&name!=""){// Si le nom est déjà renseigné
    var nm = Cookies.get('nameCookie')
    var txt = "<h1>Hello "+nm+",</h1><h1>Welcome to my Portfolio !</h1>";
    setText(txt);
    }else{//Si le nom n'est pas encore renseigné
    var startDialog1 = "<h1>Welcome to my portfolio</h1><h1>I'm sorry but I don't remember you...</h1><h1>I'm sorry I have to ask this but what's your name ?</h1><form id='nameForm'>  <input type='text' id='name' placeholder='Name'>  <input type='submit'></form>"
    setText(startDialog1);
    }





    //Set name
    $( "#nameForm" ).submit(function( event ) {
    event.preventDefault();

    var name = $('#name').val();
    if(name.length>0){
    Cookies.set('nameCookie',name);
    var nm = Cookies.get('nameCookie')
    var txt = "<h1>Hello "+nm+",</h1><h1>Welcome to my Portfolio !</h1>";
    setText(txt);
    }});

//Changer le texte du dialogue
function setText(text){
  $("#dialog").html(text);
}


$("#getcookie").click(function(){
  alert(Cookies.get('nameCookie',name));
})
$("#suppcookie").click(function(){
  Cookies.set('nameCookie',"");
})

});
</script>

</body>
</html>
